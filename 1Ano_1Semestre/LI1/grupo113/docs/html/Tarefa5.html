<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa5</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>A tarefa 5 baseia-se na implementa&#231;&#227;o da movimenta&#231;&#227;o e comportamento dos jogadores
fantasmas. &#201;, desta forma, necess&#225;ria a implementa&#231;&#227;o da movimenta&#231;&#227;o dos fantasmas
na tarefa 2 e em cada instante, &#233; necess&#225;rio ter em considera&#231;&#227;o o estado de cada
fantasma. Dever&#227;o ser implementadas duas fun&#231;&#245;es &quot;chaseMode&quot; e &quot;scatterMode&quot;, nas quais
se recebe um estado do jogo e um identificador de fantasma de modo a devolver o
um (Move identificador orientacao), necess&#225;rio na implement&#227;&#231;&#227;o de uma jogada <a href="Play.html">Play</a>.</p><h1>Objetivos</h1><p>Para a concretiza&#231;&#227;o desta tarefa, pretende-se que o comportamento normal, no qual o
fantasma se encontra em modo <em>Alive</em>, seja perseguir o Pacman. Caso o fantasma esteja em
modo <em>Dead</em>, este deve fugir ao Pacman em modo Mega at&#233; que voltar a estar em modo <em>Alive</em>.
Adicionalmente, sempre que os fantasmas passem para o modo <em>Dead</em>, estes devem obter uma
orienta&#231;&#227;o oposta &#224; que tinha no momento anterior. Para isto, &#233; necess&#225;ria a implementa&#231;&#227;o
da fun&#231;&#227;o &quot;ghostPlay&quot; que recebe um estado de jogo e devolve um conjunto de jogadas, uma
para cada fantasma, com a melhor alternativa de rea&#231;&#227;o ao Pacman.</p><h1>Estrat&#233;gia de Implementa&#231;&#227;o</h1><p>As estrat&#233;gias utilizadas nesta tarefa, s&#227;o as seguintes:</p><ul><li><strong>Fantasmas (<em>Alive</em>) em persegui&#231;&#227;o do Pacman</strong>: quando um fantasma se deparar com um muro,
este ir&#225; determinar a posi&#231;&#227;o do Pacman, sendo que o fantasma ir&#225; na dire&#231;&#227;o mais pr&#243;xima
do Pacman. Por exemplo: o fantasma encontra um muro na posi&#231;&#227;o imediatamente acima da sua - 
se o Pacman se encontrar abaixo, o fantasma seguir&#225; essa dire&#231;&#227;o, utilizando esta estrat&#233;gia
para as outras dire&#231;&#245;es. Para al&#233;m desta estrat&#233;gia, colocou-se a hip&#243;tese do fantasma se
encontrar entre duas paredes, tendo sido contemplada esta op&#231;&#227;o no c&#243;digo abaixo. Neste caso,
o fantasma muda de dire&#231;&#227;o antes de ficar encurralado.</li><li><strong>Fantasmas (<em>Dead</em>) fogem do Pacman (Mega)</strong>: quando o fantasma se depara com uma parede, este
move-se para a sua direita, circulando a &#225;rea onde se encontra no sentido dos ponteiros de
rel&#243;gico, tal como mencionado acima. Esta estrat&#233;gia foi conseguida atrav&#233;s da fun&#231;&#227;o &quot;scatterMode&quot; 
que sempre que muda a dire&#231;&#227;o dos fantasmas como descrito.</li></ul><h1>Conclus&#227;o</h1><p>Em geral, conclui-se que esta tarefa foi implementada com sucesso e que os objetivos foram
todos cumpridos com excel&#234;ncia. Mais uma vez a qualidade do c&#243;digo poderia melhorar, mas o 
foco desta tarefa foi implementar duas estrat&#233;gias que complicassem o jogo e, ao mesmo tempo,
que permitissem ao jogador Pacman criar uma estrat&#233;gia para tentar prever os movimentos dos 
fantasmas e, desta forma, ganhar o jogo.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:chaseMode-39-">chaseMode'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [Int] -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:scatterMode-39-">scatterMode'</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [Int] -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:separateAliveID">separateAliveID</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [Int]</li><li class="src short"><a href="#v:separateDeadID">separateDeadID</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [Int]</li><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>The ID of the ghost that will be moved</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><strong><code><a href="Tarefa5.html#v:chaseMode" title="Tarefa5">chaseMode</a></code></strong>: This function gives movements to the ghosts so that they chase Pacman</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>The ID of the ghost that will be moved</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><strong><code><a href="Tarefa5.html#v:scatterMode" title="Tarefa5">scatterMode</a></code></strong>: This function gives movements to ghosts so that they can escape Pacman</p></div></div><div class="top"><p class="src"><a id="v:chaseMode-39-" class="def">chaseMode'</a> <a href="#v:chaseMode-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [Int]</td><td class="doc"><p>list with the living ghosts' ids</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><strong><code><a href="Tarefa5.html#v:chaseMode" title="Tarefa5">chaseMode</a></code></strong>: This function uses the function chaseMode to give a list of movements to go in the direction of Pacman, one for each Ghost</p></div></div><div class="top"><p class="src"><a id="v:scatterMode-39-" class="def">scatterMode'</a> <a href="#v:scatterMode-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [Int]</td><td class="doc"><p>list with the dead ghosts' ids</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><strong><code><a href="Tarefa5.html#v:scatterMode" title="Tarefa5">scatterMode</a></code></strong>: This function uses the function scatterMode to give a list of movements to escape Pacman, one for each Ghost</p></div></div><div class="top"><p class="src"><a id="v:separateAliveID" class="def">separateAliveID</a> <a href="#v:separateAliveID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>only ghosts</p></td></tr><tr><td class="src">-&gt; [Int]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><strong><code><a href="Tarefa5.html#v:separateAliveID" title="Tarefa5">separateAliveID</a></code></strong>: This function gives all the living ghosts IDs</p></div></div><div class="top"><p class="src"><a id="v:separateDeadID" class="def">separateDeadID</a> <a href="#v:separateDeadID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>only ghosts</p></td></tr><tr><td class="src">-&gt; [Int]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><strong><code><a href="Tarefa5.html#v:separateDeadID" title="Tarefa5">separateDeadID</a></code></strong>: This function gives all dead ghosts' IDs</p></div></div><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:ghostPlay" class="selflink">#</a></p><div class="doc"><p><strong><code><a href="Tarefa5.html#v:ghostPlay" title="Tarefa5">ghostPlay</a></code></strong>: This function receives the game state and returns a set of moves, one from each ghost</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>